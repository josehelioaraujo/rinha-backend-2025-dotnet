using System.ComponentModel.DataAnnotations;

namespace RinhaBackend2025.Models;

public record PaymentRequest(
    [Required] string CorrelationId,
    [Required] decimal Amount
);

public record PaymentResponse(
    string CorrelationId,
    decimal Amount,
    DateTime RequestedAt
);

public record PaymentSummaryResponse(
    DefaultSummary Default,
    FallbackSummary Fallback
);

public record DefaultSummary(
    int TotalRequests,
    decimal TotalAmount
);

public record FallbackSummary(
    int TotalRequests,
    decimal TotalAmount
);

public record PaymentQueueItem(
    string CorrelationId,
    decimal Amount,
    DateTime RequestedAt,
    TaskCompletionSource<bool> Completion
);
